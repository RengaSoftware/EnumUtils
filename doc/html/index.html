<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.18"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>EnumUtils: EnumUtils library</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">EnumUtils
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.18 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('index.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">EnumUtils library </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="overviewSection"></a>
Overview</h1>
<p>EnumUtils is meant to provide a convenient way of working with C++ enumerations (both with plain old <code>enum</code> and more recent <code>enum class</code>). Enumerations could have been used to model powerful and efficient set data types, or to build algebraic data types upon them, but the core language support for these is scarce. The library tries to fill the void.</p>
<h1><a class="anchor" id="capabilitiesSection"></a>
Capabilities</h1>
<p>You can do cool stuff like <a class="el" href="group__mapping_group.html">mapping</a> at compile time, various <a class="el" href="group__conversion_group.html">conversions</a> at runtime, <a class="el" href="group__traversal_group.html">traverse</a> your enumerations in multiple ways both at compile time and runtime, use enumeration-based <a class="el" href="group__containers_group.html">containers</a>, and even tailor your own <a class="el" href="group__containers_group.html#variadic_type">variadic container types</a> with a single line of code. Take a look at the examples to see what it's all about.</p>
<h1><a class="anchor" id="limitationsSection"></a>
Limitations</h1>
<p>Enumerations that you work with using this library have to be continuous. That is, contain no gaps between their item values. If they do contain gaps, the library still would work, but as if there were none. The order of items may be arbitrary, but the "minimal" and the "maximal" elements have to be defined as "first" and "last" respectively.</p>
<p>See the following snippet for details:</p>
<div class="fragment"><div class="line"><span class="keyword">enum class</span> ContinuousEnum1 { A,      B,      C      };  <span class="comment">// EnumUtils is perfectly fine with this.</span></div>
<div class="line"><span class="keyword">enum class</span> ContinuousEnum2 { A = 1,  B = 2,  C = 3  };  <span class="comment">// EnumUtils is fine with this too: non-zero first items are acceptable.</span></div>
<div class="line"><span class="keyword">enum class</span> DisorderedItem  { A = 2,  B = 3,  C = 1  };  <span class="comment">// EnumUtils is fine as long as it&#39;s defined `ENUM_UTILS_DEFINE_TRAITS_FL(DisorderedItem, C, B)`.</span></div>
<div class="line"><span class="keyword">enum class</span> EnumWithGaps    { A = 0,  B = 10, C = 20 };  <span class="comment">// EnumUtils still can handle, but see below to learn the important difference.</span></div>
</div><!-- fragment --><p>In the last case the library will assume <code>EnumWithGaps</code> contains 21 items [0..20], not the actual three.</p>
<h1><a class="anchor" id="quickStartSection"></a>
Quick start</h1>
<p>First of all, you'll need to define <a class="el" href="group__traits_group.html">traits</a> for your enumerations by means of either <a class="el" href="group__traits_group.html#ga28739ada7d796cf148964719975a4fcd">ENUM_UTILS_DEFINE_TRAITS()</a> or <a class="el" href="group__traits_group.html#gafd28c639cdd93319e21e701c8a483e83">ENUM_UTILS_DEFINE_TRAITS_FL()</a> macro. That's the crucial part. See <a class="el" href="traits_8cpp-example.html">traits.cpp</a> for an example. Then the reset examples can guide you through other features of the library.</p>
<h1><a class="anchor" id="faqSection"></a>
FAQ</h1>
<h2><a class="anchor" id="Q1"></a>
Why do I get a compilation error "Traits for the enum are not defined"?</h2>
<p>This happens when a library function can't find a specialization of <a class="el" href="structenum__utils_1_1traits.html">enum_utils::traits</a> for the enumeration it tries to use. The specialization is either indeed not defined (then you'll need to define it with either <a class="el" href="group__traits_group.html#ga28739ada7d796cf148964719975a4fcd">ENUM_UTILS_DEFINE_TRAITS()</a> or <a class="el" href="group__traits_group.html#gafd28c639cdd93319e21e701c8a483e83">ENUM_UTILS_DEFINE_TRAITS_FL()</a>), or it's not included into the unit being compiled before the first usage of a library function (for example, you defined the macro in a .cpp, but the function is invoked from elsewhere). As a rule of thumb, the macro should be defined in the same file as the enumeration itself. An obvious exception is external libraries. Then you'll have to put the macros to a different file.</p>
<h2><a class="anchor" id="Q2"></a>
Why do I get a compilation error "The C++ Standard doesn't provide a hash for this type" when I use the library for conversion?</h2>
<p>You probably tried to invoke <a class="el" href="group__conversion_group.html#gae798aa8c729207fd32d5d5fe33b99949">enum_utils::convert_to_enum()</a> on a custom made type. The function is built upon <code>std::unordered_map</code> which relys on hashes. You'll need to provide a specialization of <code>std::hash</code> for your type like in <a class="el" href="conversion_8cpp-example.html">conversion.cpp</a>.</p>
<h2><a class="anchor" id="Q3"></a>
Why do I get a link error that says something about undefined symbol "enum_utils::detail::convert"?</h2>
<p>That's how the robustness of the conversion is manifesting (that's funny, I know). This link error means that not all the items of the enum you try to convert are bound to values. You probably need <a class="el" href="group__conversion_group.html#ga4e32873e1c176e4c96a3e69c09220245">ENUM_UTILS_DEFINE_CONVERSION()</a> for the omitted item(s). If all the macros are in place, check the type they convert to &ndash; it has to match strictly the type you supply to <a class="el" href="group__conversion_group.html#ga2bd852befc94560c2bf88cfb134a8d8a">enum_utils::convert_to_value()</a>. Please, keep in mind that string literals are <code>const char*</code> and <code>const wchar_t*</code>, not <code>std::string</code> and <code>std::wstring</code> respectively. CV-qualifiers are also important.</p>
<h2><a class="anchor" id="Q4"></a>
Why doesn't the library "see" some of the items of my enumeration?</h2>
<p>The library relies on the information you provide, so it can be misled. Check your <code>_last</code> alias in the enumeration (if you use it, of course). Then check the macro that defines traits for the enumeration. Make sure the first defined item is really first and the last is really last.</p>
<h2><a class="anchor" id="Q5"></a>
What's the difference between mapping and conversion?</h2>
<p>Mapping is always made at compile time and should generally be your first choice because it's more memory- and time- efficient. It also allows you to map to/from types, which is not immediately possible at runtime. However, mapping has strict limitations on the allowed types in case of mapping to/from values (see <a class="el" href="group__mapping_group.html">Compile time mapping</a> for details). Conversion is free of such limitations, but it's performed at runtime. Use it when you can't use mapping.</p>
<h2><a class="anchor" id="Q6"></a>
Why use array when I can use std::array or even a built-in array?</h2>
<p>Because it does all dirty work for you at no cost. Aye, you can use either of them with plain old <code>enum</code> without needing the lib, but <code>enum</code> is discouraged in favor of <code>enum class</code> which, in this case, would require ugly and unsafe casts all over the code. But the main reason is <a class="el" href="structenum__utils_1_1array.html#ac62b0ac984ba622ef50678c6b772b50b">enum_utils::array::make()</a>. It's a cool thing, just give it a try. And don't be afraid of the involved template functor &ndash; it's fairly simple to use. <a class="el" href="array_8cpp-example.html">array.cpp</a> may be of some use here.</p>
<h2><a class="anchor" id="Q7"></a>
Why don't functions for indexed access perform bounds checking at runtime and neither does array?</h2>
<p>For the same reason most functions of STL don't do that either &ndash; efficiency in possible hot paths where every conditional jump makes a difference. I plan to add strict versions of those functions too. To be completely fair, that's not the only reason. As for now, <a class="el" href="structenum__utils_1_1iterator.html">enum_utils::iterator</a> relys on liberal bounds because it needs to represent <code>end()</code> &ndash; a non existent item beyond the upper bound. </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.18 </li>
  </ul>
</div>
</body>
</html>
